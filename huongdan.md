# HÆ°á»›ng Dáº«n RÃºt Tiá»n Tá»« Aave Vá» VÃ­ MetaMask (Káº¿t Ná»‘i Ledger Nano X)

## Giá»›i Thiá»‡u

TÃ i liá»‡u nÃ y hÆ°á»›ng dáº«n chi tiáº¿t cÃ¡ch rÃºt tiá»n (withdraw) tá»« giao thá»©c Aave vá» vÃ­ MetaMask cá»§a báº¡n, trong trÆ°á»ng há»£p vÃ­ MetaMask Ä‘Æ°á»£c káº¿t ná»‘i vá»›i thiáº¿t bá»‹ pháº§n cá»©ng Ledger Nano X Ä‘á»ƒ báº£o máº­t tá»‘i Ä‘a.

---

## YÃªu Cáº§u TrÆ°á»›c Khi Báº¯t Äáº§u

- âœ… CÃ³ tÃ i khoáº£n MetaMask Ä‘Ã£ káº¿t ná»‘i vá»›i Ledger Nano X
- âœ… ÄÃ£ gá»­i tiá»n (deposit) vÃ o Aave trÆ°á»›c Ä‘Ã³
- âœ… CÃ³ Ä‘á»§ ETH Ä‘á»ƒ tráº£ phÃ­ gas (thÆ°á»ng tá»« $5-50 tÃ¹y thá»i Ä‘iá»ƒm)
- âœ… Ledger Nano X Ä‘Ã£ cÃ i Ä‘áº·t á»©ng dá»¥ng Ethereum
- âœ… ÄÃ£ cáº­p nháº­t firmware vÃ  á»©ng dá»¥ng Ethereum lÃªn phiÃªn báº£n má»›i nháº¥t

---

## BÆ°á»›c 1: Chuáº©n Bá»‹ Ledger Nano X

### 1.1 Káº¿t Ná»‘i vÃ  Má»Ÿ KhÃ³a Ledger

![Ledger Nano X](https://images.ctfassets.net/sdlntm3tthp6/1IqV8lXe5OMHgFB2RQpUkG/e4c3df3f4f3f5e4b3b3d3c3c3c3c3c3c/ledger-nano-x.png)

1. Káº¿t ná»‘i Ledger Nano X vá»›i mÃ¡y tÃ­nh qua Bluetooth hoáº·c USB-C
2. Nháº­p mÃ£ PIN Ä‘á»ƒ má»Ÿ khÃ³a thiáº¿t bá»‹
3. Cuá»™n vÃ  chá»n á»©ng dá»¥ng **"Ethereum"** trÃªn Ledger
4. Chá» mÃ n hÃ¬nh hiá»ƒn thá»‹ "Application is ready"

### 1.2 Kiá»ƒm Tra CÃ i Äáº·t Blind Signing

âš ï¸ **Quan trá»ng**: Äá»ƒ tÆ°Æ¡ng tÃ¡c vá»›i smart contracts phá»©c táº¡p nhÆ° Aave, báº¡n cáº§n báº­t tÃ­nh nÄƒng "Blind signing"

1. Trong á»©ng dá»¥ng Ethereum trÃªn Ledger, nháº¥n cáº£ 2 nÃºt Ä‘á»ƒ vÃ o **Settings**
2. TÃ¬m vÃ  chá»n **"Blind signing"**
3. Äáº£m báº£o nÃ³ Ä‘Æ°á»£c báº­t (**Enabled**)

---

## BÆ°á»›c 2: Káº¿t Ná»‘i MetaMask Vá»›i Ledger

### 2.1 Má»Ÿ MetaMask vÃ  Chuyá»ƒn Äá»•i TÃ i Khoáº£n

![MetaMask Interface](https://miro.medium.com/v2/resize:fit:1400/1*9qX0cq0dBqQqQzQqVq0qVQ.png)

1. Má»Ÿ extension MetaMask trÃªn trÃ¬nh duyá»‡t
2. Click vÃ o biá»ƒu tÆ°á»£ng tÃ i khoáº£n á»Ÿ gÃ³c trÃªn bÃªn pháº£i
3. Chá»n tÃ i khoáº£n Ledger cá»§a báº¡n (thÆ°á»ng cÃ³ biá»ƒu tÆ°á»£ng á»• khÃ³a hoáº·c chá»¯ "Ledger")

### 2.2 XÃ¡c Nháº­n Káº¿t Ná»‘i

- MetaMask sáº½ hiá»ƒn thá»‹ thÃ´ng bÃ¡o "Ledger device connected"
- Äáº£m báº£o Ledger váº«n má»Ÿ khÃ³a vÃ  Ä‘ang cháº¡y á»©ng dá»¥ng Ethereum

---

## BÆ°á»›c 3: Truy Cáº­p Giao Diá»‡n Aave

### 3.1 VÃ o Website Aave

![Aave Homepage](https://assets-global.website-files.com/5f6b7190899f41fb70882d08/5f6b7190899f41e4f7882d3a_aave-hero.png)

1. Truy cáº­p: **https://app.aave.com/**
2. Click nÃºt **"Connect Wallet"** á»Ÿ gÃ³c trÃªn bÃªn pháº£i
3. Chá»n **"MetaMask"** tá»« danh sÃ¡ch vÃ­

### 3.2 Chá»n Máº¡ng (Network)

![Aave Networks](https://i.imgur.com/3vZmQqg.png)

1. Aave há»— trá»£ nhiá»u máº¡ng: Ethereum, Polygon, Avalanche, Arbitrum, Optimism
2. Click vÃ o dropdown network á»Ÿ gÃ³c trÃªn
3. Chá»n máº¡ng mÃ  báº¡n Ä‘Ã£ deposit tiá»n (thÆ°á»ng lÃ  **Ethereum Mainnet**)
4. MetaMask sáº½ tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i network

---

## BÆ°á»›c 4: Kiá»ƒm Tra Sá»‘ DÆ° ÄÃ£ Gá»­i

### 4.1 Xem Dashboard

![Aave Dashboard](https://i.imgur.com/8vZmQqg.png)

1. Sau khi káº¿t ná»‘i thÃ nh cÃ´ng, báº¡n sáº½ tháº¥y **Dashboard** cá»§a mÃ¬nh
2. Pháº§n **"Supplied assets"** hiá»ƒn thá»‹ cÃ¡c tÃ i sáº£n báº¡n Ä‘Ã£ gá»­i vÃ o Aave
3. Báº¡n sáº½ tháº¥y:
   - **Amount**: Sá»‘ lÆ°á»£ng token gá»‘c báº¡n gá»­i
   - **APY**: LÃ£i suáº¥t hÃ ng nÄƒm
   - **Balance**: Sá»‘ dÆ° hiá»‡n táº¡i (bao gá»“m lÃ£i Ä‘Ã£ tÃ­ch lÅ©y)

### 4.2 Xem aToken

- Khi báº¡n deposit vÃ o Aave, báº¡n nháº­n Ä‘Æ°á»£c aToken (vÃ­ dá»¥: aUSDC, aDAI, aETH)
- aToken tá»± Ä‘á»™ng tÄƒng giÃ¡ trá»‹ theo thá»i gian khi báº¡n kiáº¿m lÃ£i
- Báº¡n cÃ³ thá»ƒ xem aToken trong vÃ­ MetaMask báº±ng cÃ¡ch **Add Custom Token** vá»›i Ä‘á»‹a chá»‰ contract cá»§a aToken

---

## BÆ°á»›c 5: Thá»±c Hiá»‡n RÃºt Tiá»n (Withdraw)

### 5.1 Chá»n TÃ i Sáº£n Muá»‘n RÃºt

![Aave Withdraw Button](https://i.imgur.com/Zq2qQqg.png)

1. Trong pháº§n **"Supplied assets"**, tÃ¬m tÃ i sáº£n báº¡n muá»‘n rÃºt
2. Click vÃ o nÃºt **"Withdraw"** bÃªn cáº¡nh tÃ i sáº£n Ä‘Ã³

### 5.2 Nháº­p Sá»‘ LÆ°á»£ng Muá»‘n RÃºt

![Aave Withdraw Modal](https://i.imgur.com/9qX0cq0.png)

1. Cá»­a sá»• popup sáº½ hiá»‡n ra
2. Nháº­p sá»‘ lÆ°á»£ng token báº¡n muá»‘n rÃºt hoáº·c:
   - Click **"MAX"** Ä‘á»ƒ rÃºt toÃ n bá»™ (bao gá»“m cáº£ lÃ£i)
   - Nháº­p sá»‘ lÆ°á»£ng cá»¥ thá»ƒ náº¿u chá»‰ muá»‘n rÃºt má»™t pháº§n
3. Kiá»ƒm tra thÃ´ng tin:
   - **Amount to withdraw**: Sá»‘ lÆ°á»£ng sáº½ rÃºt
   - **Remaining supply**: Sá»‘ cÃ²n láº¡i sau khi rÃºt
   - **Transaction overview**: Tá»•ng quan giao dá»‹ch

### 5.3 XÃ¡c Nháº­n Health Factor

âš ï¸ **Cáº£nh bÃ¡o quan trá»ng**:

- Náº¿u báº¡n Ä‘ang vay (borrow) tiá»n tá»« Aave, viá»‡c rÃºt tiá»n cÃ³ thá»ƒ áº£nh hÆ°á»Ÿng Ä‘áº¿n **Health Factor**
- Health Factor < 1.0 cÃ³ thá»ƒ dáº«n Ä‘áº¿n thanh lÃ½ (liquidation)
- Äáº£m báº£o Health Factor > 1.5 sau khi rÃºt Ä‘á»ƒ an toÃ n

---

## BÆ°á»›c 6: KÃ½ Giao Dá»‹ch Vá»›i Ledger

### 6.1 XÃ¡c Nháº­n TrÃªn MetaMask

![MetaMask Confirmation](https://i.imgur.com/7qX0cq0.png)

1. Click nÃºt **"Withdraw [Token Name]"**
2. MetaMask sáº½ hiá»‡n popup xÃ¡c nháº­n giao dá»‹ch
3. Kiá»ƒm tra cÃ¡c thÃ´ng tin:
   - **Gas fee**: PhÃ­ giao dá»‹ch (cÃ³ thá»ƒ Ä‘iá»u chá»‰nh: Low/Medium/High)
   - **Total amount**: Tá»•ng chi phÃ­
   - **Contract address**: Äá»‹a chá»‰ Aave contract

### 6.2 KÃ½ TrÃªn Ledger Nano X

![Ledger Signing](https://support.ledger.com/hc/article_attachments/360007762020/Screenshot_2020-01-22_at_16.34.51.png)

1. Sau khi click **"Confirm"** trÃªn MetaMask, xem Ledger Nano X
2. Ledger sáº½ hiá»ƒn thá»‹ thÃ´ng tin giao dá»‹ch:
   - **Review transaction**: Kiá»ƒm tra giao dá»‹ch
   - **Amount**: 0 ETH (vÃ¬ Ä‘Ã¢y lÃ  smart contract call)
   - **Contract**: Äá»‹a chá»‰ Aave Pool
   - **Max fees**: PhÃ­ gas tá»‘i Ä‘a
3. Cuá»™n qua táº¥t cáº£ cÃ¡c mÃ n hÃ¬nh báº±ng nÃºt bÃªn pháº£i
4. Khi tháº¥y **"Accept and send"**, nháº¥n cáº£ 2 nÃºt Ä‘á»ƒ xÃ¡c nháº­n
5. Náº¿u tháº¥y **"Reject"**, nháº¥n cáº£ 2 nÃºt Ä‘á»ƒ há»§y

### 6.3 Chá» XÃ¡c Nháº­n TrÃªn Blockchain

![Transaction Pending](https://i.imgur.com/8vZmQqg.png)

1. Sau khi kÃ½, giao dá»‹ch sáº½ Ä‘Æ°á»£c gá»­i lÃªn blockchain
2. MetaMask hiá»ƒn thá»‹ tráº¡ng thÃ¡i **"Pending"**
3. Click vÃ o giao dá»‹ch Ä‘á»ƒ xem chi tiáº¿t trÃªn Etherscan
4. Thá»i gian xÃ¡c nháº­n: 30 giÃ¢y - 5 phÃºt (tÃ¹y phÃ­ gas vÃ  tÃ¬nh tráº¡ng máº¡ng)

---

## BÆ°á»›c 7: XÃ¡c Nháº­n Giao Dá»‹ch ThÃ nh CÃ´ng

### 7.1 Kiá»ƒm Tra TrÃªn Aave

![Aave Success](https://i.imgur.com/9qX0cq0.png)

1. Khi giao dá»‹ch hoÃ n táº¥t, Aave hiá»ƒn thá»‹ thÃ´ng bÃ¡o **"Success"** hoáº·c **"Transaction completed"**
2. Dashboard cáº­p nháº­t:
   - **Supplied balance** giáº£m xuá»‘ng
   - Náº¿u rÃºt háº¿t, tÃ i sáº£n sáº½ biáº¿n máº¥t khá»i danh sÃ¡ch

### 7.2 Kiá»ƒm Tra Trong MetaMask

![MetaMask Balance](https://i.imgur.com/7qX0cq0.png)

1. Má»Ÿ MetaMask
2. Kiá»ƒm tra sá»‘ dÆ° token vá»«a rÃºt Ä‘Ã£ tÄƒng lÃªn
3. Token sáº½ náº±m trong vÃ­ MetaMask cá»§a báº¡n

### 7.3 Kiá»ƒm Tra TrÃªn Etherscan

![Etherscan Transaction](https://i.imgur.com/8vZmQqg.png)

1. Click vÃ o giao dá»‹ch trong MetaMask
2. Click **"View on Etherscan"**
3. Kiá»ƒm tra:
   - âœ… Status: **Success**
   - âœ… From: Äá»‹a chá»‰ vÃ­ cá»§a báº¡n
   - âœ… Interacted With: Aave contract
   - âœ… Tokens Transferred: Token báº¡n vá»«a rÃºt

---

## Xá»­ LÃ½ Sá»± Cá»‘ ThÆ°á»ng Gáº·p

### âŒ Lá»—i: "Ledger device: Invalid data received"

**NguyÃªn nhÃ¢n**: ChÆ°a báº­t Blind signing

**Giáº£i phÃ¡p**:
1. VÃ o Settings trong á»©ng dá»¥ng Ethereum trÃªn Ledger
2. Báº­t **"Blind signing"**
3. Thá»­ láº¡i giao dá»‹ch

### âŒ Lá»—i: "Transaction failed" hoáº·c "Out of gas"

**NguyÃªn nhÃ¢n**: Gas limit khÃ´ng Ä‘á»§

**Giáº£i phÃ¡p**:
1. Trong MetaMask, click **"Edit"** á»Ÿ pháº§n Gas
2. Chá»n **"Advanced"**
3. TÄƒng **"Gas limit"** lÃªn 20-30%
4. Thá»­ láº¡i

### âŒ Lá»—i: "Health factor too low"

**NguyÃªn nhÃ¢n**: RÃºt tiá»n sáº½ lÃ m tÃ i khoáº£n cÃ³ nguy cÆ¡ bá»‹ thanh lÃ½

**Giáº£i phÃ¡p**:
1. Tráº£ ná»£ (repay) má»™t pháº§n khoáº£n vay trÆ°á»›c
2. Hoáº·c rÃºt Ã­t hÆ¡n Ä‘á»ƒ giá»¯ Health Factor > 1.5

### âŒ Lá»—i: "Cannot withdraw more than supplied"

**NguyÃªn nhÃ¢n**: Má»™t pháº§n tÃ i sáº£n Ä‘ang Ä‘Æ°á»£c dÃ¹ng lÃ m collateral cho khoáº£n vay

**Giáº£i phÃ¡p**:
1. Tráº£ ná»£ trÆ°á»›c
2. Hoáº·c chá»‰ rÃºt pháº§n khÃ´ng Ä‘Æ°á»£c dÃ¹ng lÃ m collateral

### âŒ Lá»—i: Ledger khÃ´ng káº¿t ná»‘i vá»›i MetaMask

**Giáº£i phÃ¡p**:
1. Ngáº¯t káº¿t ná»‘i vÃ  káº¿t ná»‘i láº¡i Ledger
2. Äáº£m báº£o á»©ng dá»¥ng Ethereum Ä‘ang má»Ÿ trÃªn Ledger
3. Thá»­ káº¿t ná»‘i láº¡i MetaMask
4. Restart trÃ¬nh duyá»‡t náº¿u cáº§n

---

## LÆ°u Ã Báº£o Máº­t

### ğŸ”’ An ToÃ n Tá»‘i Äa

1. **KhÃ´ng bao giá» chia sáº»**:
   - Seed phrase (24 tá»«) cá»§a Ledger
   - Private key
   - MÃ£ PIN cá»§a Ledger

2. **LuÃ´n kiá»ƒm tra**:
   - URL pháº£i lÃ : **https://app.aave.com/**
   - KhÃ´ng truy cáº­p tá»« link láº¡ hoáº·c email
   - Kiá»ƒm tra Ä‘á»‹a chá»‰ contract trÃªn Etherscan

3. **XÃ¡c nháº­n trÃªn Ledger**:
   - Äá»c ká»¹ má»i thÃ´ng tin trÃªn mÃ n hÃ¬nh Ledger
   - KhÃ´ng kÃ½ giao dá»‹ch náº¿u tháº¥y báº¥t thÆ°á»ng
   - Äá»‹a chá»‰ contract pháº£i lÃ  Aave official

### ğŸ›¡ï¸ PhÃ²ng Chá»‘ng Lá»«a Äáº£o

- âŒ KhÃ´ng cÃ i extension MetaMask tá»« nguá»“n khÃ´ng chÃ­nh thá»©c
- âŒ KhÃ´ng nháº­p seed phrase vÃ o website báº¥t ká»³
- âŒ KhÃ´ng káº¿t ná»‘i vÃ­ vá»›i website Ä‘Ã¡ng ngá»
- âœ… Bookmark trang Aave chÃ­nh thá»©c
- âœ… Kiá»ƒm tra SSL certificate (á»• khÃ³a xanh trÃªn thanh Ä‘á»‹a chá»‰)

---

## Chi PhÃ­ Giao Dá»‹ch

### PhÃ­ Gas Æ¯á»›c TÃ­nh

| Hoáº¡t Ä‘á»™ng | Gas Used | Chi phÃ­ (khi gas 30 gwei) |
|-----------|----------|---------------------------|
| Withdraw (láº§n Ä‘áº§u) | ~200,000 gas | ~$15-25 |
| Withdraw (láº§n sau) | ~100,000 gas | ~$8-15 |

**LÆ°u Ã½**: Chi phÃ­ thá»±c táº¿ phá»¥ thuá»™c vÃ o:
- GiÃ¡ gas hiá»‡n táº¡i (xem táº¡i: https://etherscan.io/gastracker)
- TÃ¬nh tráº¡ng network (cao Ä‘iá»ƒm hay tháº¥p Ä‘iá»ƒm)
- Token Ä‘ang rÃºt (má»™t sá»‘ token tá»‘n gas hÆ¡n)

### Máº¹o Tiáº¿t Kiá»‡m Gas

1. **Giao dá»‹ch vÃ o giá» tháº¥p Ä‘iá»ƒm**:
   - Cuá»‘i tuáº§n
   - ÄÃªm khuya (giá» UTC: 00:00 - 06:00)

2. **Theo dÃµi gas tracker**:
   - https://etherscan.io/gastracker
   - https://ethereumprice.org/gas/

3. **Sá»­ dá»¥ng máº¡ng Layer 2**:
   - Aave trÃªn Polygon (phÃ­ ráº¥t tháº¥p: $0.01-0.1)
   - Aave trÃªn Arbitrum/Optimism

---

## CÃ¡c CÃ¢u Há»i ThÆ°á»ng Gáº·p (FAQ)

### â“ TÃ´i cÃ³ máº¥t aToken khi withdraw khÃ´ng?

CÃ³, aToken sáº½ bá»‹ Ä‘á»‘t (burn) vÃ  báº¡n nháº­n láº¡i token gá»‘c + lÃ£i Ä‘Ã£ tÃ­ch lÅ©y.

### â“ TÃ´i cÃ³ thá»ƒ rÃºt má»™t pháº§n khÃ´ng?

CÃ³, báº¡n cÃ³ thá»ƒ rÃºt báº¥t ká»³ sá»‘ lÆ°á»£ng nÃ o, khÃ´ng nháº¥t thiáº¿t pháº£i rÃºt háº¿t. Pháº§n cÃ²n láº¡i sáº½ tiáº¿p tá»¥c sinh lÃ£i.

### â“ RÃºt tiá»n cÃ³ máº¥t lÃ£i khÃ´ng?

KhÃ´ng, lÃ£i Ä‘Ã£ tÃ­ch lÅ©y sáº½ Ä‘Æ°á»£c cá»™ng vÃ o sá»‘ tiá»n báº¡n rÃºt. Báº¡n chá»‰ ngá»«ng kiáº¿m lÃ£i cho pháº§n Ä‘Ã£ rÃºt.

### â“ TÃ´i cÃ³ thá»ƒ há»§y giao dá»‹ch sau khi kÃ½ trÃªn Ledger khÃ´ng?

Náº¿u giao dá»‹ch chÆ°a Ä‘Æ°á»£c confirmed trÃªn blockchain (Ä‘ang pending), báº¡n cÃ³ thá»ƒ gá»­i transaction khÃ¡c vá»›i cÃ¹ng nonce vÃ  gas cao hÆ¡n Ä‘á»ƒ "Ä‘Ã¨" transaction cÅ©.

### â“ Táº¡i sao sá»‘ tiá»n rÃºt láº¡i nhiá»u hÆ¡n sá»‘ tiá»n gá»­i?

ÄÃ³ lÃ  lÃ£i báº¡n Ä‘Ã£ kiáº¿m Ä‘Æ°á»£c tá»« khi deposit. Aave tÃ­nh lÃ£i theo giÃ¢y vÃ  tá»± Ä‘á»™ng cá»™ng vÃ o aToken.

### â“ Ledger Nano X háº¿t pin cÃ³ áº£nh hÆ°á»Ÿng khÃ´ng?

KhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n tÃ i sáº£n, nhÆ°ng báº¡n cáº§n sáº¡c pin Ä‘á»ƒ sá»­ dá»¥ng. TÃ i sáº£n luÃ´n an toÃ n trÃªn blockchain.

### â“ TÃ´i cÃ³ thá»ƒ rÃºt tiá»n báº±ng vÃ­ khÃ¡c khÃ´ng?

KhÃ´ng, báº¡n chá»‰ cÃ³ thá»ƒ rÃºt vá» vÃ­ Ä‘Ã£ deposit. KhÃ´ng thá»ƒ chuyá»ƒn sang Ä‘á»‹a chá»‰ khÃ¡c trá»±c tiáº¿p tá»« Aave.

---

## Káº¿t Luáº­n

Viá»‡c rÃºt tiá»n tá»« Aave vá» vÃ­ MetaMask (káº¿t ná»‘i Ledger Nano X) lÃ  quÃ¡ trÃ¬nh Ä‘Æ¡n giáº£n nhÆ°ng cáº§n thá»±c hiá»‡n cáº©n tháº­n. HÃ£y luÃ´n:

âœ… Kiá»ƒm tra ká»¹ thÃ´ng tin trÃªn Ledger trÆ°á»›c khi kÃ½
âœ… Äáº£m báº£o phÃ­ gas há»£p lÃ½
âœ… Kiá»ƒm tra Health Factor náº¿u cÃ³ khoáº£n vay
âœ… XÃ¡c nháº­n giao dá»‹ch thÃ nh cÃ´ng trÃªn Etherscan

**ChÃºc báº¡n giao dá»‹ch thÃ nh cÃ´ng vÃ  an toÃ n! ğŸš€**

---

## TÃ i Liá»‡u Tham Kháº£o

- [Aave Documentation](https://docs.aave.com/)
- [MetaMask Support](https://support.metamask.io/)
- [Ledger Support](https://support.ledger.com/)
- [Etherscan](https://etherscan.io/)

---

*TÃ i liá»‡u Ä‘Æ°á»£c cáº­p nháº­t: ThÃ¡ng 12/2025*
*Version: 1.0*
